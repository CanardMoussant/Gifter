@(user: models.user.User,
  g:models.gift.Gift
)

@import models.gift.Gift
@import controllers.UserApplication

<tr>
  <td>@g.name</td>
  <td>
    @g.status
  </td>
  <td>
    <div class="btn-toolbar">
      <div class="btn-group">
        <a class="btn" href="@routes.Events.editGift(g.id.get)"><i class="icon-eye-open"></i></a>
        @if(g.creator == user) {
          <a class="btn open-delete-modal" data-id="@g.id.get"><i class="icon-remove"></i></a>
        }
      </div>
    </div>
  </td>
</tr>

<!-- Modal -->
<div id="delete-modal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
    <h3 id="myModalLabel">Confirm deletion</h3>
  </div>
  <div class="modal-body">
    <p>If you delete this gift, you will make tons of users unhappy. Are you sure you want to do that ?</p>
  </div>
  <div class="modal-footer">
    <form id="delete-event-form" action="" method="POST" class="form-horizontal">
      <input type="hidden" name="giftid" id="giftid" value="gna"/>
      <button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
      <button type="submit" class="btn btn-primary">Confirm</button>
    </form>
  </div>
</div


<script type="text/javascript">
  $('.open-delete-modal').click(function() {
    var gifid = $(this).data('id');
    $(".modal-footer #delete-event-form").attr("action", "/deleteGift/" + giftid);
    $('#delete-modal').modal('show');
  });
</script>
